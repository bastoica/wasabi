# JaCoCo Coverage Report Generator

This project consists of Python scripts to generate coverage reports for individual unit tests in Java projects using JaCoCo.

## Requirements

- Python 3.8 or newer
- Maven
- A Java project with tests written with JUnit
- `os`: Provides a portable way of using operating system dependent functionality. Mainly used for interacting with the file system.

- `re`: Provides support for regular expressions, used for string searching and manipulation.

- `glob`: Used to retrieve files/pathnames matching a specified pattern.

- `shutil`: Provides high-level file operations.

- `subprocess`: Allows you to spawn new processes, connect to their input/output/error pipes, and obtain their return codes.

- `atexit`: Provides a simple way to register functions to be called when a program is closing down.

- `concurrent.futures`: Provides a high-level interface for asynchronously executing callables. In your scripts, it's specifically used to create a process pool executor.

- `json`: Enables you to convert between JSON and Python Objects.


## Scripts

### executer_single.py

This script executes tests for the Java project one by one. For each test method, it generates a coverage report using JaCoCo and saves it as a JSON file.

### executor_multi.py

This script is a multiprocessing version of `executor_single.py`. It runs tests and generates reports concurrently to speed up the process. The number of concurrent tasks is equal to the number of processors on the system.

### parser.py

This script is used by the executor scripts to parse the HTML reports generated by JaCoCo. It converts these reports into a Python dictionary.

### inverter.py

This script reads in the JSON reports generated by the executor scripts and analyzes them. The output is an inverted index that can be useful for understanding the coverage information at a deeper level.

## Usage

1. Clone this repository
2. Install the necessary Python packages using pip: 
    ```
    pip3 install -r requirements.txt
    ```
3. Set the necessary configurations in `config.py`.
4. Run one of the executor scripts:
- To run tests one by one, use `executer_single.py`:
  ```
  python3 executer_single.py
  ```
- To run tests concurrently, use `executor_multi.py`:
  ```
  python3 executor_multi.py
  ```
After running either of these scripts, you will find the generated reports for individual tests in the directory specified by `PARSED_DIR` in `config.py`. The names of subdirectories corresponding to each test is `[class_name]#[method_name]`.

5. After running one of the executor scripts, you can run `inverter.py` to analyze the results:
  ```
  python3 inverter.py
  ```

Alternatively, if you do not want to run it step by step, you can simply do `python3 main.py`.

You can find the inverted results under the path specified by `INVERT_OUTPUT_PATH` in `config.py`.


## Note

The scripts in this project use Maven to execute the tests and generate the JaCoCo reports. Make sure that Maven is correctly installed on your system and that the Java project is properly set up for testing with JUnit and JaCoCo.
